<!DOCTYPE html>
<html>
<head>
<title>Webcam della Basilicata</title>
<style>
  #container-webcam {
    margin-top: 15px;
  }

  .webcam-link {
    display: block;
    margin-bottom: 10px;
    padding: 10px;
    background-color: #f0f0f0;
    border: 1px solid #ccc;
    text-decoration: none;
    color: #333;
    border-radius: 5px;
  }

  .webcam-link:hover {
    background-color: #e0e0e0;
  }
</style>
</head>
<body>

  <h1>Webcam della Basilicata</h1>

  <label for="comune">Seleziona un comune:</label>
  <select id="comune">
    <option value="">-- Seleziona un comune --</option>
  </select>

  <div id="container-webcam">
  </div>

  <script>
    const selectComune = document.getElementById('comune');
    const containerWebcam = document.getElementById('container-webcam');

    const webcamData = {
      'matera': [
        'https://www.skylinewebcams.com/it/webcam/italia/basilicata/matera/matera.html',
        'https://www.skylinewebcams.com/it/webcam/italia/basilicata/matera/matera-sassi.html'
      ],
      'pisticci': [
        'https://www.skylinewebcams.com/it/webcam/italia/basilicata/matera/pisticci-chiesa-madre.html'
      ],
      'craco': [
        'https://www.skylinewebcams.com/it/webcam/italia/basilicata/matera/craco.html'
      ],
      'marconia': [
        'http://www.meteomarconia.it/webcam.php' // URL corretta per Marconia
      ],
      'maratea': [
        'https://www.skylinewebcams.com/it/webcam/italia/basilicata/potenza/maratea.html',
        'https://www.skylinewebcams.com/it/webcam/italia/basilicata/potenza/maratea-basilicata.html'
      ],
      'castelsaraceno': [
        'https://www.skylinewebcams.com/it/webcam/italia/basilicata/potenza/castelsaraceno-ponte-tibetano.html'
      ],
      'potenza': [
        'https://www.skylinewebcams.com/it/webcam/italia/basilicata/potenza/panorama.html',
        'https://www.skylinewebcams.com/it/webcam/italia/basilicata/potenza/meteo-potenza.html'
      ],
      'tito scalo': [
        'https://www.skylinewebcams.com/it/webcam/italia/basilicata/potenza/tito-scalo.html'
      ],
      'lago pantano - pignola': [
        'https://www.skylinewebcams.com/it/webcam/italia/basilicata/potenza/lago-pantano-pignola.html'
      ],
      'brienza': [
        'https://www.skylinewebcams.com/it/webcam/italia/basilicata/potenza/brienza.html'
      ],
      'atella': [
        'https://www.skylinewebcams.com/it/webcam/italia/basilicata/potenza/atella.html',
        'https://www.skylinewebcams.com/it/webcam/italia/basilicata/potenza/panoramica-di-atella.html'
      ],
      'lauria': [
        'https://www.skylinewebcams.com/it/webcam/italia/basilicata/potenza/conserva-di-lauria.html'
      ],
      // Aggiungi qui gli altri comuni e le relative URL delle webcam
    };

    // Popola la lista dei comuni dinamicamente
    for (const comune in webcamData) {
      const option = document.createElement('option');
      option.value = comune;
      option.textContent = comune.charAt(0).toUpperCase() + comune.slice(1);
      selectComune.appendChild(option);
    }

    selectComune.addEventListener('change', function() {
      containerWebcam.innerHTML = ''; // Pulisci il contenitore

      const comuneSelezionato = this.value;
      if (comuneSelezionato && webcamData[comuneSelezionato]) {
        const webcamUrls = webcamData[comuneSelezionato];
        if (webcamUrls.length > 0) {
          webcamUrls.forEach(url => {
            const link = document.createElement('a');
            link.href = url;
            link.target = '_blank'; // Apri in una nuova scheda
            link.textContent = `Webcam di ${comuneSelezionato.charAt(0).toUpperCase() + comuneSelezionato.slice(1)}`;
            link.className = 'webcam-link';
            containerWebcam.appendChild(link);
          });
        } else {
          const messaggio = document.createElement('p');
          messaggio.textContent = `Nessuna webcam disponibile per ${comuneSelezionato.charAt(0).toUpperCase() + comuneSelezionato.slice(1)}.`;
          containerWebcam.appendChild(messaggio);
        }
      }
    });
  </script>

</body>
</html>
